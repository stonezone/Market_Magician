# MM_Full-Breakdown.md


### Market_Magician is a GitHub repository that contains a collection of Python scripts that aim to automate the process of trading stocks and cryptocurrencies using various data sources and strategies. The repository has a README file that explains the main features, dependencies, installation and usage instructions, as well as some screenshots and examples of the output. The repository also has a LICENSE file that specifies that the code is licensed under the MIT License, which means that anyone can use, modify and distribute it freely.
The repository has 11 Python scripts and one shell script. Each script has a brief description at the top of the file, as well as some comments throughout the code to explain the logic and functionality. The code follows the PEP 8 style guide for Python code, which makes it more readable and consistent. The code also uses docstrings to document the classes and functions, which makes it easier to understand and maintain.
The code uses several external libraries and modules, such as pandas, numpy, requests, yfinance, alpaca_trade_api, cryptography and more. These libraries provide useful tools and features for data processing, web scraping, financial data access, trading API integration, encryption and decryption, etc. The code also uses some built-in modules, such as os, sys, time, datetime, json and more. These modules provide basic functionality for interacting with the operating system, system arguments, time and date manipulation, data serialization and deserialization, etc.
The code is organized into different modules that perform different tasks and communicate with each other. The main modules are:

- AdvancedDataProcessor.py: This module contains a class called AdvancedDataProcessor that handles the processing of various data sources, such as Yahoo Finance, Alpaca API, CoinMarketCap API and more. It can fetch historical and live data for stocks and cryptocurrencies, calculate technical indicators, apply filters and transformations, generate signals and alerts based on predefined strategies and conditions, etc.
- DataStorageManager.py: This module contains a class called DataStorageManager that handles the storage and retrieval of data using various methods, such as local files (CSV or JSON), databases (SQLite or PostgreSQL) or cloud services (AWS S3 or Google Drive). It can save and load data in different formats and locations depending on the user's preferences and needs.
- MarketDataCollector.py: This module contains a class called MarketDataCollector that handles the collection of live market data for stocks and cryptocurrencies using various sources, such as Yahoo Finance WebSocket API or Alpaca Stream API. It can subscribe to different channels and topics based on the user's input and receive real-time updates on prices, volumes, trades, quotes, etc. It can also filter out irrelevant or duplicate data and send it to the AdvancedDataProcessor for further processing.
- SecurityManager.py: This module contains a class called SecurityManager that handles the encryption and decryption of sensitive data using various methods, such as AES or RSA. It can generate keys and passwords based on the user's input and use them to encrypt or decrypt data such as API keys or secrets. It can also store and retrieve encrypted data using various methods such as local files or databases.
- StrategyCreator.py: This module contains a class called StrategyCreator that handles the creation of custom trading strategies based on the user's input. It can take various parameters such as indicators, conditions, thresholds,signals etc. and generate a strategy object that can be used by the AdvancedDataProcessor to apply it to the market data. It can also validate the strategy object and check for errors or inconsistencies.
- TradeManager.py: This module contains a class called TradeManager that handles the execution of trades based on the signals generated by the AdvancedDataProcessor. It can connect to various trading platforms such as Alpaca API or Binance API and place orders for stocks or cryptocurrencies based on the user’s input. It can also monitor the status of the orders and update them accordingly.
- main.py: This module contains the main function that runs the program. It takes command-line arguments from the user such as mode (live or backtest), symbols (stocks or cryptocurrencies), strategy (predefined or custom), etc. and passes them to the appropriate modules. It also handles exceptions and errors that may occur during the execution of the program.
- debug.py: This module contains some functions that are used for debugging purposes only. They can print out some information about the variables or objects in different modules or test some features or functions.
- config.py: This module contains some global variables that are used by different modules such as paths to files or directories, names of databases or tables etc. They can be modified by the user according to their preferences or needs.
- test_market_data_collector.py: This module contains some unit tests for testing the functionality of the MarketDataCollector class using pytest framework. They can check if the class can connect to different sources correctly receive live market data properly filter out irrelevant or duplicate data etc.
- setup.sh: This shell script contains some commands that are used to install all the required dependencies for running the program such as Python libraries or modules PostgreSQL database etc.

### **AdvancedDataProcessor.py** is a Python script that contains a class called AdvancedDataProcessor that handles the processing of various data sources, such as Yahoo Finance, Alpaca API, CoinMarketCap API and more. It can fetch historical and live data for stocks and cryptocurrencies, calculate technical indicators, apply filters and transformations, generate signals and alerts based on predefined strategies and conditions, etc.
The class has several methods that perform different tasks such as:

- sinit: This method is the constructor of the class that takes some parameters such as symbols (a list of stock or cryptocurrency symbols), interval (the time interval for the data), start_date and end_date (the start and end dates for the historical data), live (a boolean value that indicates whether to use live or historical data), strategy (a strategy object that contains the parameters for generating signals and alerts), etc. It also initializes some attributes such as data (a dictionary that stores the market data for each symbol), indicators (a dictionary that stores the technical indicators for each symbol), signals (a dictionary that stores the signals for each symbol), alerts (a list that stores the alerts for all symbols), etc.
- sget_data: This method is used to get the market data for each symbol using various sources depending on the live parameter. If live is True, it uses the MarketDataCollector class to subscribe to different sources and receive real-time updates. If live is False, it uses requests library to make HTTP requests to different APIs and get historical data. It also uses pandas library to convert the data into DataFrame objects and store them in the data attribute.
- scalculate_indicators: This method is used to calculate various technical indicators for each symbol using the data attribute. It uses ta library to apply different functions such as SMA (simple moving average), EMA (exponential moving average), RSI (relative strength index), MACD (moving average convergence divergence), etc. It also uses numpy library to perform some calculations such as mean, standard deviation, etc. It stores the results in the indicators attribute.
- sapply_filters: This method is used to apply some filters and transformations to the data and indicators attributes based on the strategy parameter. It uses pandas library to perform some operations such as slicing, masking, shifting, etc. It also uses some custom functions such as normalize, standardize, etc. to modify the values of the data and indicators.
- sgenerate_signals: This method is used to generate buy or sell signals for each symbol based on the strategy parameter. It uses pandas library to compare the values of the data and indicators attributes with some thresholds or conditions specified in the strategy object. It also uses some custom functions such as crossover, crossunder, etc. to detect some patterns or events in the data and indicators. It stores the results in the signals attribute.
- sgenerate_alerts: This method is used to generate alerts for each symbol based on the signals attribute. It uses datetime library to get the current date and time and format them into strings. It also uses some custom functions such as format_signal, format_price, etc. to format some values into strings. It creates a message for each alert that contains some information such as symbol, signal, price, date, time, etc. It appendsthe messages to the alerts attribute.
- ssave_data: This method is used to save the data attribute into a file or a database using the DataStorageManager class. It takes a parameter called mode that specifies whether to use local or cloud storage. It also takes a parameter called format that specifies whether to use CSV or JSON format for local storage or SQLite or PostgreSQL for database storage. It passes these parameters along with the data attribute to the DataStorageManager class and calls its save_data method.
- sload_data: This method is used to load the data attribute from a file or a database using the DataStorageManager class. It takes a parameter called mode that specifies whether to use local or cloud storage. It also takes a parameter called format that specifies whether to use CSV or JSON format for local storage or SQLite or PostgreSQL for database storage. It passes these parameters along with an empty dictionary to the DataStorageManager class and calls its load_data method. It assigns the returned value to the data attribute.
- sshow_data: This method is used to display the data attribute in a table format using pandas library. It takes a parameter called symbol that specifies which symbol’s data to show. It accesses the corresponding value from the data attribute and prints it using pandas’ print function.
- sshow_indicators: This method is used to display the indicators attribute in a table format using pandas library. It takes a parameter called symbol that specifies which symbol’s indicators to show. It accesses the corresponding value from the indicators attribute and prints it using pandas’ print function.
- sshow_signals: This method is used to display the signals attribute in a table format using pandas library. It takes a parameter called symbol that specifies which symbol’s signals to show. It accesses the corresponding value from the signals attribute and prints it using pandas’ print function.
- sshow_alerts: This method is used to display the alerts attribute in a list format using print function. It iterates over each element in the alerts attribute and prints it.

### **DataStorageManager.py** is a Python script that contains a class called DataStorageManager that handles the storage and retrieval of data using various methods, such as local files (CSV or JSON), databases (SQLite or PostgreSQL) or cloud services (AWS S3 or Google Drive). It can save and load data in different formats and locations depending on the user's preferences and needs.
The class has several methods that perform different tasks such as:

- __init__: This method is the constructor of the class that takes some parameters such as mode (local or cloud), format (CSV, JSON, SQLite or PostgreSQL), path (the path to the file or directory), name (the name of the file or database), table (the name of the table in the database), etc. It also initializes some attributes such as data (a dictionary that stores the data to be saved or loaded), conn (a connection object to the database or cloud service), cursor (a cursor object to execute SQL commands on the database), etc.
- save_data: This method is used to save the data attribute into a file or a database using various methods depending on the mode and format parameters. If mode is local and format is CSV or JSON, it uses pandas library to convert the data attribute into a DataFrame object and then save it into a file using pandas' to_csv or to_json methods. If mode is local and format is SQLite or PostgreSQL, it uses sqlite3 or psycopg2 libraries to connect to the database and create a table using SQL commands. It then uses pandas' to_sql method to insert the data attribute into the table. If mode is cloud and format is CSV or JSON, it uses boto3 or pydrive libraries to connect to AWS S3 or Google Drive and upload the file using their methods. If mode is cloud and format is SQLite or PostgreSQL, it uses sqlalchemy library to create an engine object that connects to the database using a URL. It then uses pandas' to_sql method to insert the data attribute into the table using the engine object.
- load_data: This method is used to load the data attribute from a file or a database using various methods depending on the mode and format parameters. If mode is local and format is CSV or JSON, it uses pandas library to read the file using pandas' read_csv or read_json methods and convert it into a DataFrame object. It then assigns the DataFrame object to the data attribute. If mode is local and format is SQLite or PostgreSQL, it uses sqlite3 or psycopg2 libraries to connect to the database and execute a SQL command to select all rows from the table. It then uses pandas' read_sql method to convert the result into a DataFrame object and assign it to the data attribute. If mode is cloud and format is CSV or JSON, it uses boto3 or pydrive libraries to connect to AWS S3 or Google Drive and downloadthe file using their methods. It then uses pandas’ read_csv or read_json methods to convert the file into a DataFrame object and assign it to the data attribute. If mode is cloud and format is SQLite or PostgreSQL, it uses sqlalchemy library to create an engine object that connects to the database using a URL. It then uses pandas’ read_sql method to select all rows from the table using the engine object and convert them into a DataFrame object and assign it to the data attribute.
- show_data: This method is used to display the data attribute in a table format using pandas library. It prints the data attribute using pandas’ print function.

### **MarketDataCollector.py** _is a Python script that contains a class called MarketDataCollector that handles the collection of live market data for stocks and cryptocurrencies using various sources, such as Yahoo Finance WebSocket API or Alpaca Stream API. It can subscribe to different channels and topics based on the user’s input and receive real-time updates on prices, volumes, trades, quotes, etc. It can also filter out irrelevant or duplicate data and send it to the AdvancedDataProcessor for further processing._
The class has several methods that perform different tasks such as:

- init: This method is the constructor of the class that takes some parameters such as symbols (a list of stock or cryptocurrency symbols), source (the name of the source to use), key (the API key for the source), secret (the API secret for the source), etc. It also initializes some attributes such as data (a dictionary that stores the market data for each symbol), ws (a WebSocket object that connects to the source), topics (a list of topics to subscribe to), etc.
- connect: This method is used to connect to the source using the ws attribute. It uses websocket library to create a WebSocket object and pass it some parameters such as url (the URL of the source), on_open (a callback function that runs when the connection is opened), on_message (a callback function that runs when a message is received), on_error (a callback function that runs when an error occurs), on_close (a callback function that runs when the connection is closed), etc. It then calls the run_forever method of the WebSocket object to start the connection.
- on_open: This method is used as a callback function that runs when the connection is opened. It prints a message indicating that the connection is successful and calls the subscribe method to subscribe to the topics attribute.
- on_message: This method is used as a callback function that runs when a message is received. It takes a parameter called message that contains the message data in JSON format. It uses json library to parse the message data and extract some information such as symbol, price, volume, trade, quote, etc. It then checks if the message data is relevant or duplicate using some custom functions such as check_relevance, check_duplicate, etc. If the message data is relevant and not duplicate, it updates the data attribute with the new information and prints a message indicating that new data is received. It then calls the send_data method to send the data attribute to the AdvancedDataProcessor for further processing.
- on_error: This method is used as a callback function that runs when an error occurs. It takes a parameter called error that contains the error information. It prints a message indicating that an error has occurred and prints the error information. It then calls the disconnect method to close the connection.
- on_close: This method is used as a callback function that runs when the connection is closed. It prints a message indicating that the connection is closed.
- subscribe: This method is used to subscribe to different topics based on the source and symbols parameters. It uses some custom functions such as get_topics_yahoo, get_topics_alpaca, etc. to generate a list of topics for each source and symbol. It then assigns the list to the topics attribute and sends it to the ws attribute using its send method.
- unsubscribe: This method is used to unsubscribe from all topics. It sends an empty list to the ws attribute using its send method and assigns an empty list to the topics attribute.
- disconnect: This method is used to close the connection using the ws attribute. It calls its close method and prints a message indicating that the connection is closed.
- send_data: This method is used to send the data attribute to the AdvancedDataProcessor for further processing. It creates an instance of AdvancedDataProcessor class and passes it some parameters such as symbols, interval, live, strategy, etc. It then calls its get_data method and passes it the data attribute.

### **SecurityManager.py** is a Python script that contains a class called SecurityManager that handles the encryption and decryption of sensitive data using various methods, such as AES or RSA. It can generate keys and passwords based on the user's input and use them to encrypt or decrypt data such as API keys or secrets. It can also store and retrieve encrypted data using various methods such as local files or databases.
The class has several methods that perform different tasks such as:

- __init__: This method is the constructor of the class that takes some parameters such as mode (local or cloud), format (CSV, JSON, SQLite or PostgreSQL), path (the path to the file or directory), name (the name of the file or database), table (the name of the table in the database), etc. It also initializes some attributes such as data (a dictionary that stores the data to be encrypted or decrypted), conn (a connection object to the database or cloud service), cursor (a cursor object to execute SQL commands on the database), etc.
- generate_key: This method is used to generate a key for encryption or decryption using various methods depending on the user's input. It takes a parameter called method that specifies whether to use AES or RSA. If method is AES, it uses cryptography library to create a Fernet object and generate a key using its generate_key method. It then returns the key as a string. If method is RSA, it uses cryptography library to create an RSA object and generate a private key and a public key using its generate_private_key and public_key methods. It then returns the private key and the public key as strings.
- generate_password: This method is used to generate a password for encryption or decryption using various methods depending on the user's input. It takes a parameter called method that specifies whether to use random or custom. If method is random, it uses secrets library to generate a random password of 16 characters using its choice method. It then returns the password as a string. If method is custom, it takes another parameter called password that contains the user's input password. It then returns the password as a string.
- encrypt_data: This method is used to encrypt the data attribute using various methods depending on the user's input. It takes some parameters such as method (AES or RSA), key (the key for encryption), password (the password for encryption), etc. It uses cryptography library to create different objects and functions based on the method parameter such as Fernet, AESGCM, OAEP, etc. It then iterates over each element in the data attribute and encrypts it using the corresponding object or function. It then updates the data attribute with the encrypted values.
- decrypt_data: This method is used to decrypt the data attribute using various methods depending on the user’s input. It takes some parameters such as method (AES or RSA), key (the key for decryption), password (the password for decryption), etc. It uses cryptography library to create different objects and functions based on the method parameter such as Fernet, AESGCM, OAEP, etc. It then iterates over each element in the data attribute and decrypts it using the corresponding object or function. It then updates the data attribute with the decrypted values.
- save_data: This method is used to save the data attribute into a file or a database using various methods depending on the mode and format parameters. If mode is local and format is CSV or JSON, it uses pandas library to convert the data attribute into a DataFrame object and then save it into a file using pandas’ to_csv or to_json methods. If mode is local and format is SQLite or PostgreSQL, it uses sqlite3 or psycopg2 libraries to connect to the database and create a table using SQL commands. It then uses pandas’ to_sql method to insert the data attribute into the table. If mode is cloud and format is CSV or JSON, it uses boto3 or pydrive libraries to connect to AWS S3 or Google Drive and upload the file using their methods. If mode is cloud and format is SQLite or PostgreSQL, it uses sqlalchemy library to create an engine object that connects to the database using a URL. It then uses pandas’ to_sql method to insert the data attribute into the table using the engine object.
- load_data: This method is used to load the data attribute from a file or a database using various methods depending on the mode and format parameters. If mode is local and format is CSV or JSON, it uses pandas library to read the file using pandas’ read_csv or read_json methods and convert it into a DataFrame object. It then assigns the DataFrame object to the data attribute. If mode is local and format is SQLite or PostgreSQL, it uses sqlite3 or psycopg2 libraries to connect to the database and execute a SQL command to select all rows from the table. It then uses pandas’ read_sql method to convert the result into a DataFrame object and assign it to the data attribute. If mode is cloud and format is CSV or JSON, it uses boto3 or pydrive libraries to connect to AWS S3 or Google Drive and download the file using their methods. It then uses pandas’ read_csv or read_json methods to convert the file into a DataFrame object and assign it to the data attribute. If mode is cloud and format is SQLite or PostgreSQL, it uses sqlalchemy library to create an engine object that connects to the database using a URL. It then uses pandas’ read_sql method to select all rows from the table using the engine object and convert them into a DataFrame object and assign it to the data attribute.
- show_data: This method is used to display the data attribute in a table format using pandas library. It prints the data attribute using pandas’ print function.

### **StrategyCreator.py** is a Python script that contains a class called StrategyCreator that handles the creation of custom trading strategies based on the user’s input. It can take various parameters such as indicators, conditions, thresholds, signals etc. and generate a strategy object that can be used by the AdvancedDataProcessor to apply it to the market data. It can also validate the strategy object and check for errors or inconsistencies.
The class has several methods that perform different tasks such as:

- init: This method is the constructor of the class that takes some parameters such as indicators (a list of indicators to use), conditions (a list of conditions to apply), thresholds (a list of thresholds to compare), signals (a list of signals to generate), etc. It also initializes some attributes such as strategy (a dictionary that stores the strategy parameters), errors (a list that stores the errors found in the strategy), etc.
- create_strategy: This method is used to create the strategy object using the parameters passed to the class. It uses some custom functions such as create_indicator, create_condition, create_threshold, create_signal, etc. to generate different components of the strategy and store them in the strategy attribute.
- validate_strategy: This method is used to validate the strategy object and check for errors or inconsistencies. It uses some custom functions such as check_indicators, check_conditions, check_thresholds, check_signals, etc. to verify different components of the strategy and append any errors found to the errors attribute.
- show_strategy: This method is used to display the strategy object in a table format using pandas library. It converts the strategy attribute into a DataFrame object and prints it using pandas’ print function.
- show_errors: This method is used to display the errors attribute in a list format using print function. It iterates over each element in the errors attribute and prints it


###**TradeManager.py** is a Python script that contains a class called TradeManager that handles the execution of trades based on the signals generated by the AdvancedDataProcessor. It can connect to various trading platforms such as Alpaca API or Binance API and place orders for stocks or cryptocurrencies based on the user’s input. It can also monitor the status of the orders and update them accordingly.
The class has several methods that perform different tasks such as:

- init: This method is the constructor of the class that takes some parameters such as symbols (a list of stock or cryptocurrency symbols), platform (the name of the platform to use), key (the API key for the platform), secret (the API secret for the platform), etc. It also initializes some attributes such as data (a dictionary that stores the market data for each symbol), orders (a dictionary that stores the orders for each symbol), api (an API object that connects to the platform), etc.
- connect: This method is used to connect to the platform using the api attribute. It uses alpaca_trade_api or binance libraries to create an API object and pass it some parameters such as key, secret, base_url, etc. It then assigns the API object to the api attribute and prints a message indicating that the connection is successful.
- place_order: This method is used to place an order for a symbol based on a signal using the api attribute. It takes some parameters such as symbol (the symbol to trade), signal (the signal to act on), quantity (the quantity to trade), price (the price to trade at), etc. It uses some custom functions such as get_order_type, get_order_side, get_order_time_in_force, etc. to determine some parameters for the order based on the signal and platform. It then calls the api attribute’s submit_order or create_order method and passes it some parameters such as symbol, quantity, side, type, time_in_force, limit_price, etc. It then prints a message indicating that the order is placed and updates the orders attribute with the order information.
- monitor_order: This method is used to monitor the status of an order for a symbol using the api attribute. It takes a parameter called symbol that specifies which symbol’s order to monitor. It accesses the corresponding value from the orders attribute and gets some information such as order_id, order_status, etc. It then calls the api attribute’s get_order or get_order_status method and passes it the order_id parameter. It then compares the returned value with the order_status value and prints a message indicating whether the order is filled, partially filled, canceled or rejected. It also updates the orders attribute with the new order information.
- cancel_order: This method is used to cancel an order for a symbol using the api attribute. It takes a parameter called symbol that specifies which symbol’s order to cancel. It accesses the corresponding value from the orders attribute and gets some information such as order_id, order_status, etc. It then checks if the order_status value is not filled or canceled. If so, it calls the api attribute’s cancel_order method and passes it the order_id parameter. It then prints a message indicating that the order is canceled and updates the orders attribute with the new order information.


###**main.py** is a Python script that contains the main function that runs the program. It takes command-line arguments from the user such as mode (live or backtest), symbols (stocks or cryptocurrencies), strategy (predefined or custom), etc. and passes them to the appropriate modules. It also handles exceptions and errors that may occur during the execution of the program.
The main function performs the following steps:

- iIt uses argparse library to create a parser object and add some arguments such as mode, symbols, strategy, etc. It then parses the command-line arguments and assigns them to some variables such as mode, symbols, strategy, etc.
- iIt uses some custom functions such as get_strategy, get_key, get_secret, etc. to get some information from the user based on the arguments such as strategy name, API key, API secret, etc. It then assigns them to some variables such as strategy, key, secret, etc.
- iIt uses some custom functions such as encrypt_key, encrypt_secret, decrypt_key, decrypt_secret, etc. to encrypt or decrypt some sensitive data such as API key or secret using the SecurityManager class. It then assigns them to some variables such as key_encrypted, secret_encrypted, key_decrypted, secret_decrypted, etc.
- iIt uses some custom functions such as save_key, save_secret, load_key, load_secret, etc. to save or load some encrypted data such as API key or secret using the SecurityManager class. It then assigns them to some variables such as key_saved, secret_saved, key_loaded, secret_loaded, etc.
- iIt uses some custom functions such as connect_market_data_collector, connect_trade_manager, disconnect_market_data_collector, disconnect_trade_manager, etc. to connect or disconnect to some sources or platforms using the MarketDataCollector or TradeManager classes. It then assigns them to some variables such as market_data_collector_connected, trade_manager_connected, market_data_collector_disconnected, trade_manager_disconnected, etc.
- iIt uses some custom functions such as get_data_advanced_data_processor, process_data_advanced_data_processor, save_data_advanced_data_processor, load_data_advanced_data_processor, show_data_advanced_data_processor, show_indicators_advanced_data_processor, show_signals_advanced_data_processor, show_alerts_advanced_data_processor, etc. to get or process or save or load or show some data or indicators or signals or alerts using the AdvancedDataProcessor class. It then assigns them to some variables such as data_advanced_data_processor, indicators_advanced_data_processor, signals_advanced_data_processor, alerts_advanced_data_processor, etc.
- iIt uses some custom functions such as place_order_trade_manager, monitor_order_trade_manager, cancel_order_trade_manager, etc. to place or monitor or cancel some orders using the TradeManager class. It then assigns them to some variables such as order_placed_trade_manager, order_monitored_trade_manager, order_canceled_trade_manager, etc.
- iIt uses try and except blocks to handle any exceptions or errors that may occur during the execution of the program. It prints out the exception or error information and terminates the program.

###**debug.py** is a Python script that contains some functions that are used for debugging purposes only. They can print out some information about the variables or objects in different modules or test some features or functions.
The script has several functions that perform different tasks such as:

- print_data: This function is used to print out the data attribute of the AdvancedDataProcessor class. It takes a parameter called advanced_data_processor that is an instance of AdvancedDataProcessor class. It accesses its data attribute and prints it using print function.
- print_indicators: This function is used to print out the indicators attribute of the AdvancedDataProcessor class. It takes a parameter called advanced_data_processor that is an instance of AdvancedDataProcessor class. It accesses its indicators attribute and prints it using print function.
- print_signals: This function is used to print out the signals attribute of the AdvancedDataProcessor class. It takes a parameter called advanced_data_processor that is an instance of AdvancedDataProcessor class. It accesses its signals attribute and prints it using print function.
- print_alerts: This function is used to print out the alerts attribute of the AdvancedDataProcessor class. It takes a parameter called advanced_data_processor that is an instance of AdvancedDataProcessor class. It accesses its alerts attribute and prints it using print function.
- test_strategy: This function is used to test the functionality of the StrategyCreator class. It takes some parameters such as indicators, conditions, thresholds, signals, etc. and creates an instance of StrategyCreator class with them. It then calls its create_strategy and validate_strategy methods and prints out the strategy and errors attributes using print function.
- test_encryption: This function is used to test the functionality of the SecurityManager class. It takes some parameters such as mode, format, path, name, table, etc. and creates an instance of SecurityManager class with them. It then calls its generate_key, generate_password, encrypt_data, decrypt_data, save_data, load_data, show_data, methods and prints out the data and errors attributes using print function.

###**config.py** is a Python script that contains some global variables that are used by different modules such as paths to files or directories, names of databases or tables etc. They can be modified by the user according to their preferences or needs.
The script has several variables that store different values such as:

- iPATH: This variable stores the path to the directory where the program is located. It uses os library to get the current working directory using its getcwd method and assigns it to the variable.
- iFILE_NAME: This variable stores the name of the file where the data is saved or loaded. It assigns a string value to the variable such as “data.csv” or “data.json”.
- iDATABASE_NAME: This variable stores the name of the database where the data is saved or loaded. It assigns a string value to the variable such as “data.db” or “data.sql”.
- iTABLE_NAME: This variable stores the name of the table in the database where the data is saved or loaded. It assigns a string value to the variable such as “data”.
- iAWS_ACCESS_KEY_ID: This variable stores the access key ID for AWS S3 service. It assigns a string value to the variable such as “AKIAxxxxxxxxxxxxxxxx”.
- iAWS_SECRET_ACCESS_KEY: This variable stores the secret access key for AWS S3 service. It assigns a string value to the variable such as “xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx”.
- iAWS_BUCKET_NAME: This variable stores the name of the bucket in AWS S3 service where the data is saved or loaded. It assigns a string value to the variable such as “market-magician-data”.
- iGOOGLE_CLIENT_ID: This variable stores the client ID for Google Drive service. It assigns a string value to the variable such as “xxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com”.
- iGOOGLE_CLIENT_SECRET: This variable stores the client secret for Google Drive service. It assigns a string value to the variable such as “xxxxxxxxxxxxxxxxxxxxxxxx”.
- iGOOGLE_FOLDER_ID: This variable stores the ID of the folder in Google Drive service where the data is saved or loaded. It assigns a string value to the variable such as “1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx”.

###**test_market_data_collector.py** is a Python script that contains some unit tests for testing the functionality of the MarketDataCollector class using pytest framework. They can check if the class can connect to different sources correctly, receive live market data properly, filter out irrelevant or duplicate data, etc.
The script has several functions that perform different tests such as:

- test_connect_yahoo: This function is used to test if the MarketDataCollector class can connect to Yahoo Finance WebSocket API correctly. It creates an instance of MarketDataCollector class with some parameters such as symbols and source. It then calls its connect method and asserts that the ws attribute is not None and that the topics attribute is not empty.
- test_connect_alpaca: This function is used to test if the MarketDataCollector class can connect to Alpaca Stream API correctly. It creates an instance of MarketDataCollector class with some parameters such as symbols, source, key and secret. It then calls its connect method and asserts that the ws attribute is not None and that the topics attribute is not empty.
- test_on_message_yahoo: This function is used to test if the MarketDataCollector class can receive live market data from Yahoo Finance WebSocket API properly. It creates an instance of MarketDataCollector class with some parameters such as symbols and source. It then calls its on_message method with a mock message data in JSON format. It asserts that the data attribute is not empty and that it contains the expected values for each symbol.
- test_on_message_alpaca: This function is used to test if the MarketDataCollector class can receive live market data from Alpaca Stream API properly. It creates an instance of MarketDataCollector class with some parameters such as symbols, source, key and secret. It then calls its on_message method with a mock message data in JSON format. It asserts that the data attribute is not empty and that it contains the expected values for each symbol.
- test_check_relevance: This function is used to test if the MarketDataCollector class can filter out irrelevant data using its check_relevance function. It creates an instance of MarketDataCollector class with some parameters such as symbols and source. It then calls its check_relevance function with some mock message data in JSON format. It asserts that the function returns True or False depending on whether the message data is relevant or not.
- test_check_duplicate: This function is used to test if the MarketDataCollector class can filter out duplicate data using its check_duplicate function. It creates an instance of MarketDataCollector class with some parameters such as symbols and source. It then calls its check_duplicate function with some mock message data in JSON format. It asserts that the function returns True or False depending on whether the message data is duplicate or not.

###**setup.sh** is a shell script that contains some commands that are used to install all the required dependencies for running the program such as Python libraries or modules, PostgreSQL database, etc.
The script has several commands that perform different tasks such as:

pip install -r requirements.txt: This command is used to install all the Python libraries or modules that are listed in the requirements.txt file using pip package manager. It includes libraries or modules such as pandas, numpy, requests, yfinance, alpaca_trade_api, cryptography, etc.
sudo apt-get install postgresql: This command is used to install PostgreSQL database using apt-get package manager. It includes the database server and client software.
sudo -u postgres psql -c “CREATE DATABASE data”: This command is used to create a database called data using psql command-line interface. It runs the command as the postgres user who has the privileges to create databases.
sudo -u postgres psql -c “CREATE USER market WITH PASSWORD ‘magician’”: This command is used to create a user called market with a password ‘magician’ using psql command-line interface. It runs the command as the postgres user who has the privileges to create users.
sudo -u postgres psql -c “GRANT ALL PRIVILEGES ON DATABASE data TO market”: This command is used to grant all privileges on the database data to the user market using psql command-line interface. It runs the command as the postgres user who has the privileges to grant privileges.

###**config.py** is a Python script that contains some global variables that are used by different modules such as paths to files or directories, names of databases or tables etc. They can be modified by the user according to their preferences or needs.
The script has several variables that store different values such as:

- iPATH: This variable stores the path to the directory where the program is located. It uses os library to get the current working directory using its getcwd method and assigns it to the variable.
- iFILE_NAME: This variable stores the name of the file where the data is saved or loaded. It assigns a string value to the variable such as “data.csv” or “data.json”.
- iDATABASE_NAME: This variable stores the name of the database where the data is saved or loaded. It assigns a string value to the variable such as “data.db” or “data.sql”.
- iTABLE_NAME: This variable stores the name of the table in the database where the data is saved or loaded. It assigns a string value to the variable such as “data”.
- iAWS_ACCESS_KEY_ID: This variable stores the access key ID for AWS S3 service. It assigns a string value to the variable such as “AKIAxxxxxxxxxxxxxxxx”.
- iAWS_SECRET_ACCESS_KEY: This variable stores the secret access key for AWS S3 service. It assigns a string value to the variable such as “xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx”.
- iAWS_BUCKET_NAME: This variable stores the name of the bucket in AWS S3 service where the data is saved or loaded. It assigns a string value to the variable such as “market-magician-data”.
- iGOOGLE_CLIENT_ID: This variable stores
- iGOOGLE_CLIENT_SECRET: This variable stores the client secret for Google Drive service. It assigns a string value to the variable such as “xxxxxxxxxxxxxxxxxxxxxxxx”.
- iGOOGLE_FOLDER_ID: This variable stores the ID of the folder in Google Drive service where the data is saved or loaded. It assigns a string value to the variable such as “1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx”.
 
